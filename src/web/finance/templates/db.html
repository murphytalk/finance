{% extends "layout.html" %}
{% block head %}
<link rel="stylesheet" href="https://cdn.datatables.net/1.10.11/css/jquery.dataTables.min.css" type="text/css" />
{% endblock %}
{% block content %}
<div class="row">
    <div class="col-md-12">
        <div class="btn-group">
            <button type="button" class="btn btn-primary" id="q">quote</button>
            <button type="button" class="btn btn-primary" id="t">transaction</button>
            <button type="button" class="btn btn-primary" id="x">xccy</button>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-md-12">
        <table id="dbtable" class="table table-striped table-bordered dt-responsive nowrap" cellspacing="0">
            <thead></thead>
        </table>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="https://cdn.datatables.net/1.10.11/js/jquery.dataTables.min.js"></script>
<script>
    $("#q").click(function () {
        var head = $("<thead>").append();
        var tr = $("<tr>");
        tr.append($("<th>").append("Date"));
        tr.append($("<th>").append("Symbol"));
        tr.append($("<th>").append("Price"));
        head.append(tr);
        $("#dbtable thead").replaceWith(head);

        $("#dbtable").DataTable({
            'ajax': "{{url_for('db_quote_json')}}",
            "order": [[0, 'desc'], [1, 'asc']],
            'pageLength': 100
        });
    });
</script>
{% endblock %}
